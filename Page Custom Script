<!-- ============================================================
   MOTORO ‚Äî DARK/LIGHT THEME TOGGLE + INIT
   ============================================================ -->
<button id="motoro-theme-toggle" aria-label="Toggle theme" title="Toggle dark/light mode">üåô</button>

<script>
(function () {
  var STORAGE_KEY = 'motoro-theme';
  var html = document.documentElement;
  var btn  = document.getElementById('motoro-theme-toggle');

  /* Apply saved theme immediately (before paint) */
  var saved = localStorage.getItem(STORAGE_KEY);
  var theme = (saved === 'light') ? 'light' : 'dark';
  html.setAttribute('data-theme', theme);

  function updateButton(t) {
    if (btn) btn.textContent = (t === 'light') ? 'ÔøΩÔøΩ' : '‚òÄÔ∏è';
    if (btn) btn.setAttribute('aria-label', (t === 'light') ? 'Switch to dark mode' : 'Switch to light mode');
  }

  updateButton(theme);

  function toggleTheme() {
    var current = html.getAttribute('data-theme') || 'dark';
    var next = (current === 'dark') ? 'light' : 'dark';
    html.setAttribute('data-theme', next);
    localStorage.setItem(STORAGE_KEY, next);
    updateButton(next);
  }

  if (btn) {
    btn.addEventListener('click', toggleTheme);
  } else {
    /* Button may not be in DOM yet ‚Äî wait for it */
    document.addEventListener('DOMContentLoaded', function () {
      btn = document.getElementById('motoro-theme-toggle');
      if (btn) btn.addEventListener('click', toggleTheme);
      updateButton(html.getAttribute('data-theme') || 'dark');
    });
  }
})();
</script>
